# 数据库的内容

一般情况下，需要把K线各周期数据都放入，但如果是低频交易，我觉得K线周期做到1d即可

**首先要解决的是数据源问题**

米筐（ricequant）的RQData数据质量相对高一些，新注册有一个月的免费试用期，一年最少要3000元；
掘金（myquant）的数据质量较差，但免费；
聚宽（joinquant）好像可以免费用一年，可以作为备胎。

**省钱的方案：先注册米筐，在一个月的免费试用期内，把想要的历史数据全部保存下来，之后用掘金来采集最新的数据即可。**

此外，一部分数据可以通过akshare库来采集。

**其次是安装数据库**
因此，需要学习java、python等对于数据库接口的调用办法。

接口包括：
- 读、写行情数据
- 更新、读取品种信息
- 更新、读取合约信息
- 读、写持仓信息

**数据的更新问题**

每个交易日都会产生新的行情数据，因此数据库必须不断的更新。
所以要制作一个数据更新的脚本，使用定时任务（无论是基于linux还是windows）来定时执行，每天固定时间更新行情数据（可以考虑在晚间）。

借助脚本，还可以每天自动更新数据后，顺便发送一个市场行情的报告邮件，作为每日总结。

**补充说明**
1. 如果数据来源不同，要注意保持格式的定义一致性，比如对于持仓量和成交量的命名，最容易出错的是K线的时间标识，有的数据源用的是K线的结束时间，有的是用K线的开始时间，要注意区分处理。米筐用的就是结束时间，掘金是开始和结束带在数据里。

2. 自己搞数据库，还可以玩异形K线，比如47分钟K线，或者小时线结束时间点比常见的早10分钟等等，可能这些特异操作，会有意想不到的效果。

3. 无论是从哪里来，多么靠谱的数据源，一定要再清洗一遍才能使用，这也是我认为需要建立本地数据库，而不是每次从别的数据源拿的原因。

4. 小时级K线的定义有好几种，不同数据源可能不同，千万要注意。